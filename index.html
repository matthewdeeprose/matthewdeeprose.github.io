<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Learn about accessibility and how it can be implemented within your organisation.">
    <meta name="keywords" content="Accessibility, WCAG, EN 301 549, a11y, Blackboard, vle, lms, University of Southampton">
    <meta name="author" content="Matthew Deeprose">
    <title>Welcome</title>
    <link rel="stylesheet" id="lightCSS" href="light.css" media="(prefers-color-scheme: light)">
    <link rel="stylesheet" id="mainCSS" href="main.css" media="all">
    <link rel="stylesheet" id="darkCSS" href="dark.css" media="(prefers-color-scheme: dark)">
    <link rel="stylesheet" id="printCSS" href="print.css" media="print">
    <meta property="og:title" content="Matthew Deeprose: Accessibility presentations, projects and posts.">
    <meta property="og:description" content="Site collecting my presentations, projects, posts and other materials.">
    <meta property="og:image" content="https://matthewdeeprose.github.io/image.png">
    <meta property="og:image:alt" content="">
    <meta property="og:locale" content="en_GB">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://matthewdeeprose.github.io/index.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="theme-color" content="#231F20" media="(prefers-color-scheme: dark)">
    <meta name="theme-color" content="#FFFFF4" media="(prefers-color-scheme: light)">
    <link rel="icon" href="favicon.ico">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for matthewdeeprose.github.io" href="https://matthewdeeprose.github.io/feed.rss">
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Matthew Deeprose: Accessibility presentations, projects and posts." />
    <meta name="twitter:description" content="Site collecting my presentations, projects, posts and other materials." />
    <meta name="twitter:creator" content="@VLEguru" />
    <meta name="twitter:site" content="@VLEguru" />
    <meta name="twitter:image" content="https://matthewdeeprose.github.io/image.png" />
    <meta name="twitter:image:alt" content="" />
  </head>
  <body>
    <div class="page-wrap" id="start">
      <a class="skip-link" id="skipToContent" href='#main'>Skip to content</a>
      <header class="page-header">
        <div id="banner">
          <div id="logo">
            <button id="modeToggle" aria-label="Change between light and dark theme" aria-pressed="false" onclick="toggle(this.id);">
              <svg id="logoSVG" height="45" viewBox="0 0 21 21" width="45" xmlns="http://www.w3.org/2000/svg" aria-labelledby="svgTitle svgDesc" role="img">
                <title id="svgTitle">Change theme</title>
                <desc id="svgDesc">Select to switch to light theme</desc>
                <g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" transform="translate(2 1)">
                  <path d="m6.5 17.5h4" />
                  <path d="m8.5 4c2.4852814 0 4.5 2.01471863 4.5 4.5 0 1.7663751-1.017722 3.2950485-2.4987786 4.031633l-.0012214.968367c0 1.1045695-.8954305 2-2 2s-2-.8954305-2-2l-.00021218-.9678653c-1.48160351-.7363918-2.49978782-2.2653584-2.49978782-4.0321347 0-2.48528137 2.01471863-4.5 4.5-4.5z" />
                  <path d="m8.5 1.5v-1" />
                  <path d="m13.5 3.5 1-1" />
                  <path d="m2.5 3.5 1-1" transform="matrix(-1 0 0 1 6 0)" />
                  <path d="m13.5 13.5 1-1" transform="matrix(1 0 0 -1 0 26)" />
                  <path d="m2.5 13.5 1-1" transform="matrix(-1 0 0 -1 6 26)" />
                  <path d="m1.5 7.5h-1" />
                  <path d="m16.5 7.5h-1" />
                </g>
              </svg>
              <svg id="logoSVG-Off" height="45" viewBox="0 0 21 21" width="45" xmlns="http://www.w3.org/2000/svg" aria-labelledby="svgTitleX svgDescX">
                <title id="svgTitleX">Change theme</title>
                <desc id="svgDescX">Select to switch to dark theme</desc>
                <g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" transform="translate(6 5)">
                  <path d="m2.5 13.5h4" />
                  <path d="m4.5 0c2.48528137 0 4.5 2.01471863 4.5 4.5 0 1.76637512-1.01772197 3.29504854-2.49877863 4.03163297l-.00122137.96836703c0 1.1045695-.8954305 2-2 2s-2-.8954305-2-2l-.00021218-.96786527c-1.48160351-.73639182-2.49978782-2.26535843-2.49978782-4.03213473 0-2.48528137 2.01471863-4.5 4.5-4.5z" />
                </g>
              </svg>
            </button>
          </div>
          <span role="alert" class="hidden" aria-live="polite" id="lightDark"></span>
          <div id="titleLink">Matthew Deeprose</div>
        </div>
      </header>
      <div id="main-navigation" class="page-nav">
        <nav aria-label="Main menu" class="topnav" id="myTopnav">
          <button id="menu" aria-controls="myTopnav" aria-labelledby="myTopnav" aria-expanded="false" class="icon" aria-haspopup="menu" onclick="menuAction()">
            <span id="hamburger">
              <svg id="hamSVG" viewBox="0 0 100 80" width="20" height="20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" role="img">
                <title id="hamSVGTitle">Menu</title>
                <desc id="hamSVGDesc">Select to expand or collapse the menu</desc>
                <rect width="100" height="20"></rect>
                <rect y="30" width="100" height="20"></rect>
                <rect y="60" width="100" height="20"></rect>
              </svg>
            </span>
            <span id="arrow">
              <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" focusable="false">
                <title id="arrowSVGTitle">Menu</title>
                <desc id="arrowSVGDesc">Select to expand or collapse the menu</desc>
                <g stroke-width="4" stroke-linejoin="round" stroke-linecap="round" stroke="currentColor" fill-rule="evenodd" fill="none">
                  <path d="m7.499,6.497l-3.999,4.002l4,4.001" />
                  <path d="m16.5,10.5l-13,0" />
                </g>
              </svg>
            </span>
          </button>
          <a id="homeMenu" href="index.html" aria-current="page" class="active">Home</a>
          <a href="presentations.html">Presentations</a>
          <a href="posts.html">Blog Posts</a>
          <a href="projects.html">Projects</a>
          <a href="about.html">About</a>
        </nav>
      </div>
      <main class="page-main" id="main" style="padding-top: 0px;">
        <article class="front">
          <h1 id="top">Welcome</h1>
          <p>How can we deliver digital services that meet accessibility guidelines? In the UK, Universities understand their responsibilities, and are attempting to untangle accessibility requirements into practical and actionable approaches.</p>
          <p>On this site you can find recent <a href="presentations.html">presentations</a>, <a href="posts.html">posts</a>, and <a href="projects.html">projects</a> on these topics in one place. </p>
          <!-- Acccessible card component based on https://codepen.io/joelstrohmeier/pen/bGEMpmz -->
          <section>
            <h2>Recent updates</h2>
            <ul class="cards updates">
						 
            </ul>
            <a href="presentations.html">More presentations</a>
            <h2>Highlighted projects and resources</h2>
            <ul class="cards projects">

            </ul>
            <a href="projects.html">More projects and resources</a>
          </section>
		  		            <nav class="a11y-webring-club" aria-labelledby="a11y-webring-club">
              <h2 id="a11y-webring-club">a11y-webring.club</h2>
              <p>This site is a member of the <a rel="external" href="https://a11y-webring.club/">a11y-webring.club</a>. </p>
              <ul>
                <li>
                  <a rel="previous external" href="https://a11y-webring.club/prev">Previous website</a>
                </li>
                <li>
                  <a rel="external" href="https://a11y-webring.club/random">Random website</a>
                </li>
                <li>
                  <a rel="next external" href="https://a11y-webring.club/next">Next website</a>
                </li>
              </ul>
            </nav>
        </article>

        <div id="panel">
          <button class="panelButton" onclick="topFunction()" id="myBtn">
            <svg id="svgUP" height="50" viewBox="0 0 21 21" width="50" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="svgTitle2 svgDesc2">
              <title id="svgTitle2">Top.</title>
              <desc id="svgDesc2">Move to the top of the page.</desc>
              <g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" transform="translate(2 2)">
                <circle cx="8.5" cy="8.5" r="8" />
                <path d="m11.5 7.5-3-3-3 3" />
                <path d="m8.5 4.5v8" />
              </g>
            </svg>
            <br />
            <span id="myBtnTop" class="panelLabel">Top</span>
          </button>
          <button class="panelButton" onclick="bottomFunction()" id="myBtn2">
            <svg id="svgDOWN" height="50" viewBox="0 0 21 21" width="50" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="svgTitle3 svgDesc3">
              <title id="svgTitle3">Bottom.</title>
              <desc id="svgDesc3">Move to the bottom of the page.</desc>
              <g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" transform="translate(3 2)">
                <circle cx="8.5" cy="8.5" r="8" />
                <path d="m5.5 9.5 3 3 3-3" />
                <path d="m8.5 12.5v-8" />
              </g>
            </svg>
            <br />
            <span id="myBtnBottom" class="panelLabel">Bottom</span>
          </button>
        </div>
      </main>
      <aside class="page-sidebar related">
        <section class="related">
          <h2>What's new?</h2>
        </section>
        <section class="related">
          <h3>Latest presentation</h3>
          <ul class="relUL latPres">



          </ul>
        </section>
        <section class="related">
          <h3>Recent presentations</h3>
          <ul class="relUL recPres">



          </ul>
        </section>
        <section class="related">
          <h3>Recent blog posts</h3>
          <ul class="relUL recPosts">
			
          </ul>
        </section>
      </aside>
      <footer class="page-footer">
        <div id="RSS">
          <a id="rssA" href="feed.rss">RSS</a>
        </div>
        <div id="SiteMap">
          <a href="siteMap.html">Site Map</a>
        </div>
        <div id="AccessibilityFoot">
          <a href="Accessibility_Statement.html">Accessibility Statement</a>
        </div>
        <div id="twitterFoot">
          <a href="https://twitter.com/vleguru?ref_src=twsrc%5Etfw">Follow on Twitter</a>
        </div>
        <div id="YouTubeChannelFoot">
          <a href="https://www.youtube.com/channel/UCKypjo59GE79UEjoLtzKEtQ">YouTube Channel</a>
        </div>
        <div id="aboutCodePen"><a href="https://codepen.io/matthewdeeprose/">CodePen</a></div><p><div id="aboutFoot">
          <a href="https://www.linkedin.com/in/mattdeeprose/">&#169; Matthew Deeprose</a>
        </div>
      </p></footer>
    </div>
    <script>
      function menuAction() {
        let menuSwitch = document.getElementById("myTopnav");
        if (menuSwitch.className === "topnav") {
          menuSwitch.className += " responsive";
        } else {
          menuSwitch.className = "topnav";
        }
        let menuAriaAttrib = document.getElementById("menu").getAttribute("aria-expanded");
        if (menuAriaAttrib === "true") {
          menuAriaAttrib = "false"
        } else {
          menuAriaAttrib = "true"
        }
        document.getElementById("menu").setAttribute("aria-expanded", menuAriaAttrib);
      }
    </script>
    <script>
      let mybutton = document.getElementById("myBtn");
      let mybutton2 = document.getElementById("myBtn2");
      window.onscroll = function() {
        scrollFunction()
      };

      function scrollFunction() {
        if (document.body.scrollTop > 660 || document.documentElement.scrollTop > 660) {
          mybutton.style.display = "block";
          mybutton2.style.display = "block";
        } else {
          mybutton.style.display = "none";
          mybutton2.style.display = "none";
        }
      }

      function topFunction() {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
        document.getElementById('skipToContent').focus();
      }

      function bottomFunction() {
        window.scrollTo(0, document.body.scrollHeight);
        document.getElementById('rssA').focus();
      }
    </script>
    <script>
      let themePref = localStorage.getItem("theme");
      console.log("Has a theme preference been saved?", themePref);
      function setLight() {
        let buttonStatus = document.getElementById("lightDark");
        let theButton = document.getElementById("modeToggle");
        const d = matchMedia('(prefers-color-scheme: dark)');
        let dt;
        if (d.matches) {
          dt = 'dark';
          console.log("Prefers dark theme in OS");
        } else {
          dt = 'light'
          console.log("Prefers light theme in OS");
        }
        if (dt == 'dark' && themePref == 'Dark') {
          theButton.setAttribute("aria-pressed", "true");
        } else if (dt == 'light' && themePref == 'Dark') {
          theButton.setAttribute("aria-pressed", "true");
        } else if (dt == 'dark' && !themePref) {
          theButton.setAttribute("aria-pressed", "true");
        } else {
          theButton.setAttribute("aria-pressed", "false");
        }
      }
      setLight();

      function toggle(btnID) {
        let buttonStatus = document.getElementById("lightDark");
        let theButton = document.getElementById(btnID);
        if (theButton.getAttribute("aria-pressed") == "true") {
          theButton.setAttribute("aria-pressed", "false");
          document.getElementById('lightCSS').href = 'light.css';
          document.getElementById('darkCSS').href = 'light.css';
          console.log("Turned on light mode");
          localStorage.setItem("theme", "Light");
          let themePref = localStorage.getItem("theme");
          console.log("Site theme preference to ", themePref);
          document.getElementById('lightDark').innerHTML = 'Light theme enabled, the button is now';
          let toggleButton = document.getElementById('modeToggle');
          toggleButton.removeAttribute("aria-pressed");
          toggleButton.setAttribute("aria-pressed", "false");
        } else {
          theButton.setAttribute("aria-pressed", "true");
          document.getElementById('lightCSS').href = 'dark.css';
          document.getElementById('darkCSS').href = 'dark.css';
          console.log("Turned on dark mode");
          localStorage.setItem("theme", "Dark");
          let themePref = localStorage.getItem("theme");
          console.log("Site theme preference set to ", themePref);
          document.getElementById('lightDark').innerHTML = 'Dark theme enabled, the button is now';
          let toggleButton = document.getElementById('modeToggle');
          toggleButton.removeAttribute("aria-pressed");
          toggleButton.setAttribute("aria-pressed", "true");
        }
      }

      function applyThemePreference() {
        if (themePref == 'Dark') {
          let theButton = document.getElementById('modeToggle');
          document.getElementById('lightCSS').href = 'dark.css';
          document.getElementById('darkCSS').href = 'dark.css';
          theButton.setAttribute("aria-pressed", "true");
          console.log("Applied", themePref, "theme because site theme preference is set to", themePref);
        } else if (themePref == 'Light') {
          let theButton = document.getElementById('modeToggle');
          document.getElementById('lightCSS').href = 'light.css';
          document.getElementById('darkCSS').href = 'light.css';
          theButton.setAttribute("aria-pressed", "false");
          console.log("Applied", themePref, "theme because site theme preference is set to", themePref);
        }
      }
      applyThemePreference();
    </script>
<script>
// Cache DOM elements for better performance
const projectsContainer = document.querySelector('.projects');
const updatesContainer = document.querySelector('.updates');
const recentPostsContainer = document.querySelector('.recPosts');
const latestPresContainer = document.querySelector('ul.latPres');
const recentPresContainer = document.querySelector('ul.recPres');

/**
 * Fetches JSON data from a given URL
 * @param {string} url - The URL to fetch JSON from
 * @returns {Promise<Object>} - A promise that resolves to the JSON data
 * @throws {Error} - If the network response is not ok
 */
async function fetchJSON(url) {
  const response = await fetch(url);
  if (!response.ok) {
    throw new Error('Network response was not ok');
  }
  return response.json();
}

/**
 * Creates an HTML element with given attributes and text content
 * @param {string} tag - The HTML tag name
 * @param {Object} attributes - Key-value pairs of attributes to set on the element
 * @param {string} textContent - The text content of the element
 * @returns {HTMLElement} - The created HTML element
 */
function createElement(tag, attributes = {}, textContent = '') {
  const element = document.createElement(tag);
  Object.entries(attributes).forEach(([key, value]) => element.setAttribute(key, value));
  if (textContent) element.textContent = textContent;
  return element;
}

/**
 * Renders project cards in the projects container
 */
async function renderProjects() {
  try {
    const data = await fetchJSON('https://matthewdeeprose.github.io/data/projects.json');
    const fragment = document.createDocumentFragment();
    
    data.projects.forEach(project => {
      if (project.isHighlighted) {
        const li = createElement('li');
        li.innerHTML = `
          <article class="card reorder plainBlack">
            <h2><a href="${project.link}">${project.title}</a></h2>
            <img src="${project.imageSrc}" alt="${project.imageAlt}" loading="lazy" width="533" height="300">
            <p>${project.description}</p>
          </article>
        `;
        fragment.appendChild(li);
      }
    });
    
    projectsContainer.appendChild(fragment);
  } catch (error) {
    console.error('Error loading projects:', error);
    projectsContainer.innerHTML = '<li>Error loading projects. Please try again later.</li>';
  }
}

/**
 * Renders update cards in the updates container
 */
async function renderUpdates() {
  try {
    const data = await fetchJSON('https://matthewdeeprose.github.io/data/updates.json');
    const fragment = document.createDocumentFragment();
    
    data.updates.forEach(update => {
      const li = createElement('li');
      li.innerHTML = `
        <article class="card reorder plainBlack">
          <h2><a href="${update.link}">${update.title}</a></h2>
          <img src="${update.imageSrc}" alt="${update.imageAlt}" loading="lazy" width="533" height="300">
          <p>${update.description}</p>
        </article>
      `;
      fragment.appendChild(li);
    });
    
    updatesContainer.appendChild(fragment);
  } catch (error) {
    console.error('Error loading updates:', error);
    updatesContainer.innerHTML = '<li>Error loading updates. Please try again later.</li>';
  }
}

/**
 * Makes card elements clickable and adds visual feedback
 */
function linkBoxes() {
  document.querySelectorAll("article.card").forEach(box => {
    const link = box.querySelector("a");
    if (link) {
      const url = link.getAttribute("href");
      
      // Make the entire box clickable
      box.addEventListener("click", () => location.href = url);
      box.classList.add("linkify");
      
      // Add focus styles
      link.addEventListener("focus", () => box.classList.add("isfocused"));
      link.addEventListener("blur", () => box.classList.remove("isfocused"));
      
      // Add a call-to-action span (visually hidden for screen readers)
      box.insertAdjacentHTML("beforeend", '<span class="cta" aria-hidden="true"></span>');
    }
  });
}

/**
 * Populates the recent blog posts list
 */
async function populateRecentPosts() {
  try {
    const data = await fetchJSON('https://matthewdeeprose.github.io/data/a11yBlogPosts.json');
    const fragment = document.createDocumentFragment();
    
    data.blogPosts.slice(0, 8).forEach(post => {
      const li = createElement('li');
      li.appendChild(createElement('a', { href: post.url }, post.title));
      fragment.appendChild(li);
    });
    
    recentPostsContainer.appendChild(fragment);
  } catch (error) {
    console.error('Error fetching blog posts:', error);
  }
}

/**
 * Populates the latest and recent presentation lists
 */
async function populatePresentationLists() {
  try {
    const data = await fetchJSON('https://matthewdeeprose.github.io/data/a11yPresentations.json');
    const presentations = Array.isArray(data) ? data : data[Object.keys(data).find(key => Array.isArray(data[key]))];
    
    if (!Array.isArray(presentations)) {
      throw new Error('Presentations data is not an array');
    }

    const nonTranscriptPresentations = presentations.filter(pres => !pres.isTranscript);

    // Add the latest presentation
    if (nonTranscriptPresentations.length > 0) {
      latestPresContainer.appendChild(createListItem(nonTranscriptPresentations[0]));
    }

    // Add recent presentations (2nd to 6th)
    const recentPresFragment = document.createDocumentFragment();
    nonTranscriptPresentations.slice(1, 6).forEach(pres => {
      recentPresFragment.appendChild(createListItem(pres));
    });
    recentPresContainer.appendChild(recentPresFragment);
  } catch (error) {
    console.error('Error fetching or processing presentations:', error);
    const errorMsg = createElement('p', { role: 'alert' }, 'Sorry, we couldn\'t load the presentations. Please try again later.');
    document.body.appendChild(errorMsg);
  }
}

/**
 * Creates a list item for a presentation
 * @param {Object} presentation - The presentation object
 * @returns {HTMLLIElement} - The created list item
 */
function createListItem(presentation) {
  const li = createElement('li');
  if (presentation && typeof presentation === 'object') {
    const a = createElement('a', { href: presentation.url || '#' }, presentation.title || 'Untitled Presentation');
    li.appendChild(a);
  } else {
    li.textContent = 'Invalid presentation data';
    console.error('Invalid presentation object:', presentation);
  }
  return li;
}

/**
 * Initializes the page by calling all rendering functions
 */
async function initializePage() {
  try {
    await Promise.all([
      renderProjects(),
      renderUpdates(),
      populateRecentPosts(),
      populatePresentationLists()
    ]);
    linkBoxes();
    console.log('Page initialized successfully');
  } catch (error) {
    console.error('Error initializing page:', error);
  }
}

// Call the initialization function when the DOM is fully loaded
document.addEventListener('DOMContentLoaded', initializePage);
</script>
  </body>
</html>