<!DOCTYPE html>
<html lang="en-GB">
   <head>
      <meta charset="utf-8" />
      <meta name="description" content="Responsive Vimeo Embed Code Generator">
      <meta name="keywords" content="accessibility, vimeo, embed, responsive, blackboard">
      <meta name="author" content="Matthew Deeprose">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>Responsive Vimeo Embed Code Generator</title>
      <link rel="stylesheet" id="lightCSS" href="light.css" media="(prefers-color-scheme: light)">
      <link rel="stylesheet" id="mainCSS" href="main.css" media="all">
      <link rel="stylesheet" id="darkCSS" href="dark.css" media="(prefers-color-scheme: dark)">
      <link rel="stylesheet" id="printCSS" href="print.css" media="print">
      <meta property="og:title" content="Responsive Vimeo Embed Code Generator - Matthew Deeprose">
      <meta property="og:description" content="">
      <meta property="og:image" content="https://matthewdeeprose.github.io/vimeo43.png">
	  <meta property="og:image:width" content="2500" />
	  <meta property="og:image:height" content="1306" />
      <meta property="og:image:alt" content="">
      <meta property="og:locale" content="en_GB">
      <meta property="og:type" content="website">
      <meta property="og:url" content="https://matthewdeeprose.github.io/responsiveVimeoEmbed.html">
      <meta name="twitter:card" content="summary_large_image">
      <meta name="theme-color" content="#231F20" media="(prefers-color-scheme: dark)">
      <meta name="theme-color" content="#FFFFF4" media="(prefers-color-scheme: light)">
      <link rel="icon" href="favicon.ico">
      <link rel="alternate" type="application/rss+xml" title="RSS Feed for matthewdeeprose.github.io" href="https://matthewdeeprose.github.io/feed.rss">
      <link rel="icon" href="favicon.svg" type="image/svg+xml">
      <meta name="twitter:card" content="summary_large_image">
      <meta name="twitter:title" content="Responsive Vimeo Embed Code Generator - Matthew Deeprose" />
      <meta name="twitter:description" content=""/>
      <meta name="twitter:creator" content="@VLEguru"/>
      <meta name="twitter:site" content="@VLEguru"/>
      <meta name="twitter:image" content="https://matthewdeeprose.github.io/vimeo43.png"/>
      <meta name="twitter:image:alt" content=""/>
      <meta name="twitter:card" content="summary_large_image"/>
	  
	  <style>
.input-container,
.output-container {
    margin-bottom: 1rem;
}

.code-input,
pre[class*="language-"] {
    width: 100%;
    padding: 1rem;
    border: 2px solid #ccc;
    border-radius: 4px;
    margin: 0;
    font-size: 0.9rem;
    max-height: 400px;
    overflow: auto;
}

code[class*="language-"] {
    font-family: monospace;
    white-space: pre-wrap;
    word-break: break-all;
}


.preview-container {
    border: 2px solid #ccc;
    border-radius: 4px;
    padding: 1rem;
    min-height: 200px;
}

.preview-placeholder {
    text-align: center;
    padding: 2rem;
}
      .page-wrap > * {
        grid-column: 1/-1 !important;
        grid-row: auto !important;
      }
	  </style>
   </head>
   <body>
      <div class="page-wrap" id="start">
         <a class="skip-link" id="skipToContent" href='#main'>Skip to content</a>
         <header class="page-header">
            <div id="banner">
               <div id="logo">
                  <button id="modeToggle" aria-label="Change between light and dark theme" aria-pressed="false" onclick="toggle(this.id);">
                     <svg id="logoSVG" height="45" viewBox="0 0 21 21" width="45" xmlns="http://www.w3.org/2000/svg" aria-labelledby="svgTitle svgDesc" role="img">
                        <title id="svgTitle">Change theme</title>
                        <desc id="svgDesc">Select to switch to light theme</desc>
                        <g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" transform="translate(2 1)">
                           <path d="m6.5 17.5h4"/>
                           <path d="m8.5 4c2.4852814 0 4.5 2.01471863 4.5 4.5 0 1.7663751-1.017722 3.2950485-2.4987786 4.031633l-.0012214.968367c0 1.1045695-.8954305 2-2 2s-2-.8954305-2-2l-.00021218-.9678653c-1.48160351-.7363918-2.49978782-2.2653584-2.49978782-4.0321347 0-2.48528137 2.01471863-4.5 4.5-4.5z"/>
                           <path d="m8.5 1.5v-1"/>
                           <path d="m13.5 3.5 1-1"/>
                           <path d="m2.5 3.5 1-1" transform="matrix(-1 0 0 1 6 0)"/>
                           <path d="m13.5 13.5 1-1" transform="matrix(1 0 0 -1 0 26)"/>
                           <path d="m2.5 13.5 1-1" transform="matrix(-1 0 0 -1 6 26)"/>
                           <path d="m1.5 7.5h-1"/>
                           <path d="m16.5 7.5h-1"/>
                        </g>
                     </svg>
                     <svg id="logoSVG-Off" height="45" viewBox="0 0 21 21" width="45" xmlns="http://www.w3.org/2000/svg" aria-labelledby="svgTitleX svgDescX">
                        <title id="svgTitleX">Change theme</title>
                        <desc id="svgDescX">Select to switch to dark theme</desc>
                        <g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" transform="translate(6 5)">
                           <path d="m2.5 13.5h4"/>
                           <path d="m4.5 0c2.48528137 0 4.5 2.01471863 4.5 4.5 0 1.76637512-1.01772197 3.29504854-2.49877863 4.03163297l-.00122137.96836703c0 1.1045695-.8954305 2-2 2s-2-.8954305-2-2l-.00021218-.96786527c-1.48160351-.73639182-2.49978782-2.26535843-2.49978782-4.03213473 0-2.48528137 2.01471863-4.5 4.5-4.5z"/>
                        </g>
                     </svg>
                  </button>
               </div>
               <span role="alert" class="hidden" aria-live="polite" id="lightDark"></span>
               <div id="titleLink">Matthew Deeprose</div>
            </div>
         </header>
         <div id="main-navigation" class="page-nav">
            <nav aria-label="Main menu" class="topnav" id="myTopnav">
               <button id="menu" aria-controls="myTopnav" aria-labelledby="myTopnav" aria-expanded="false" class="icon"  aria-haspopup="menu" onclick="menuAction()">
                  <span id="hamburger">
                     <svg id="hamSVG" viewBox="0 0 100 80" width="20" height="20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" role="img">
                        <title id="hamSVGTitle">Menu</title>
                        <desc id="hamSVGDesc">Select to expand or collapse the menu</desc>
                        <rect width="100" height="20"></rect>
                        <rect y="30" width="100" height="20"></rect>
                        <rect y="60" width="100" height="20"></rect>
                     </svg>
                  </span>
                  <span id="arrow">
                     <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" focusable="false">
                        <title id="arrowSVGTitle">Menu</title>
                        <desc id="arrowSVGDesc">Select to expand or collapse the menu</desc>
                        <g stroke-width="4"  stroke-linejoin="round" stroke-linecap="round" stroke="currentColor" fill-rule="evenodd" fill="none">
                           <path  d="m7.499,6.497l-3.999,4.002l4,4.001"/>
                           <path  d="m16.5,10.5l-13,0"/>
                        </g>
                     </svg>
                  </span>
               </button>
               <a id="homeMenu" href="index.html">Home</a>
               <a href="presentations.html" aria-current="page" class="active">Presentations</a>
               <a href="posts.html">Blog Posts</a>
               <a href="projects.html">Projects</a>
               <a href="about.html">About</a>
            </nav>
         </div>
         <main class="page-main" id="main">
            <article class="standard">
               <h1 id="top">Responsive Vimeo Embed Code Generator</h1>
    <section class="input-section" aria-labelledby="input-heading">
        <h2 id="input-heading">Original Embed Code</h2>
        <p id="input-instructions">Paste your Vimeo embed code below. The transformer will create a cleaner, more efficient version.</p>
        
        <div class="input-container">
            <label for="embed-input" class="visually-hidden">Original Vimeo embed code</label>
            <textarea 
                id="embed-input"
                class="code-input"
                aria-describedby="input-instructions"
                rows="6"
                placeholder="Paste Vimeo embed code here..."></textarea>
        </div>
        
        <button 
            id="transform-button"
            class="primary-button"
            aria-controls="output-code result-preview">
            Transform Embed Code
        </button>
    </section>

    <section class="output-section hidden" aria-labelledby="output-heading">
        <h2 id="output-heading">Transformed Code</h2>
        
        <div class="output-container">
            <!-- Visible pre/code block for Prism highlighting -->
            <pre class="language-html" tabindex="-1"><code id="highlighted-output" class="language-html" aria-live="polite" tabindex="-1"></code></pre>
            
            <button 
                id="copy-button"
                class="secondary-button"
                aria-label="Copy transformed code to clipboard">
                Copy Code
            </button>
        </div>
    </section>

    <section class="preview-section hidden" aria-labelledby="preview-heading">
        <h2 id="preview-heading">Preview</h2>
        <div id="result-preview" class="preview-container" aria-live="polite">
            <p class="preview-placeholder">Transform an embed code to see the preview</p>
        </div>
    </section>
	</article>
			      <div id="panel">
         <button class="panelButton" onclick="topFunction()" id="myBtn">
            <svg id="svgUP" height="50" viewBox="0 0 21 21" width="50" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="svgTitle2 svgDesc2">
               <title id="svgTitle2">Top.</title>
               <desc id="svgDesc2">Move to the top of the page.</desc>
               <g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" transform="translate(2 2)">
                  <circle cx="8.5" cy="8.5" r="8"/>
                  <path d="m11.5 7.5-3-3-3 3"/>
                  <path d="m8.5 4.5v8"/>
               </g>
            </svg>
            <br />
            <span id="myBtnTop" class="panelLabel">Top</span>
         </button>
         <button class="panelButton" onclick="bottomFunction()" id="myBtn2">
            <svg id="svgDOWN" height="50" viewBox="0 0 21 21" width="50" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="svgTitle3 svgDesc3">
               <title id="svgTitle3">Bottom.</title>
               <desc id="svgDesc3">Move to the bottom of the page.</desc>
               <g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" transform="translate(3 2)">
                  <circle cx="8.5" cy="8.5" r="8"/>
                  <path d="m5.5 9.5 3 3 3-3"/>
                  <path d="m8.5 12.5v-8"/>
               </g>
            </svg>
            <br />
            <span id="myBtnBottom" class="panelLabel">Bottom</span>
         </button>
      </div>
         </main>
         <aside class="page-sidebar related">
            <section class="related">
			<h2>Related content</h2>
			</section>
            <section class="related">
               <h3>Presentations</h3>
               <ul class="relUL">
                  <li><a href="#">Using Colours</a></li>
                  <li><a href="#">Future Teacher</a></li>
                  <li><a href="#">Bluffers guide to Blackboard theme accessibility</a></li>
               </ul>
            </section>
            <section class="related">
               <h3>Blog posts</h3>
               <ul class="relUL">
                  <li><a href="#">Using Colours</a></li>
                  <li><a href="#">Future Teacher</a></li>
                  <li><a href="#">Bluffers guide to Blackboard theme accessibility</a></li>
               </ul>
            </section>
         </aside>
         <footer class="page-footer">
            <div id="RSS"><a id="rssA" href="feed.rss">RSS</a></div>
            <div id="SiteMap"><a href="siteMap.html">Site Map</a></div>
            <div id="AccessibilityFoot">
               <a href="Accessibility_Statement.html">Accessibility Statement</a>
            </div>
            <div id="twitterFoot">
               <a href="https://twitter.com/vleguru?ref_src=twsrc%5Etfw">Follow on Twitter</a>
            </div>
            <div id="YouTubeChannelFoot">
               <a href="https://www.youtube.com/channel/UCKypjo59GE79UEjoLtzKEtQ">YouTube Channel</a>
            </div>
            <div id="aboutCodePen"><a href="https://codepen.io/matthewdeeprose/">CodePen</a></div><p><div id="aboutFoot">
               <a href="https://www.linkedin.com/in/mattdeeprose/">&#169;  Matthew Deeprose</a>
            </div>
         </p></footer>
      </div>
<script>
document.addEventListener('DOMContentLoaded', () => {
    // Get DOM elements
    const embedInput = document.getElementById('embed-input');
    const transformButton = document.getElementById('transform-button');
    const copyButton = document.getElementById('copy-button');
    const previewContainer = document.getElementById('result-preview');
    const outputSection = document.querySelector('.output-section');
    const previewSection = document.querySelector('.preview-section');

    // Initialize copy button state
    if (copyButton) {
        copyButton.disabled = true;
        copyButton.setAttribute('aria-disabled', 'true');
    }

    // Escape HTML for display
    function escapeHtml(html) {
        return html.replace(/</g, '&lt;')
                  .replace(/>/g, '&gt;')
                  .replace(/"/g, '&quot;')
                  .replace(/'/g, '&#039;');
    }

    // Transform the embed code
    function transformEmbedCode(embedCode) {
        try {
            // Create a temporary div to parse the embed code
            const parser = new DOMParser();
            const doc = parser.parseFromString(embedCode, 'text/html');
            const iframe = doc.querySelector('iframe');

            if (!iframe) {
                throw new Error('No iframe found in the embed code');
            }

            // Create the new container div
            const container = document.createElement('div');
            container.style.cssText = 'position: relative; padding-bottom: 56.25%; overflow: hidden; max-width: 100%;';

            // Clone and modify the iframe
            const newIframe = iframe.cloneNode(true);
            newIframe.style.cssText = 'position: absolute; top: 0; left: 0; width: 100%; height: 100%;';

            // Create the new embed code
            container.appendChild(newIframe);
            return container.outerHTML;
        } catch (error) {
            throw new Error('Invalid embed code. Please check your input and try again.');
        }
    }

    // Update the preview
    function updatePreview(embedCode) {
        if (previewContainer) {
            previewContainer.innerHTML = embedCode;
            
            // Load the Vimeo Player API if needed
            if (!window.Vimeo) {
                const script = document.createElement('script');
                script.src = 'https://player.vimeo.com/api/player.js';
                document.body.appendChild(script);
            }
        }
    }

    // Transform button click handler
    if (transformButton) {
        transformButton.addEventListener('click', () => {
            const originalCode = embedInput.value.trim();
            
            if (!originalCode) {
                alert('Please enter a Vimeo embed code');
                embedInput.focus();
                return;
            }

            try {
                const transformedCode = transformEmbedCode(originalCode);
                
                // Display escaped version with Prism highlighting
                const highlightedOutput = document.getElementById('highlighted-output');
                if (highlightedOutput) {
                    highlightedOutput.textContent = transformedCode;
                    
                    // Apply Prism highlighting
                    if (window.Prism) {
                        Prism.highlightElement(highlightedOutput);
                    }
                }
                
                // Enable copy button and show sections
                if (copyButton) {
                    copyButton.disabled = false;
                    copyButton.setAttribute('aria-disabled', 'false');
                }
                if (outputSection) outputSection.classList.remove('hidden');
                if (previewSection) previewSection.classList.remove('hidden');
                
                updatePreview(transformedCode);
            } catch (error) {
                alert(error.message);
                embedInput.focus();
            }
        });
    }

    // Copy button click handler
    if (copyButton) {
        copyButton.addEventListener('click', async () => {
            const highlightedOutput = document.getElementById('highlighted-output');
            const code = highlightedOutput ? highlightedOutput.textContent : '';
            
            if (!code) {
                alert('No code to copy');
                return;
            }

            try {
                await navigator.clipboard.writeText(code);
                copyButton.textContent = 'Copied!';
                copyButton.setAttribute('aria-label', 'Code copied to clipboard');
                
                // Reset button text and aria-label after 2 seconds
                setTimeout(() => {
                    copyButton.textContent = 'Copy Code';
                    copyButton.setAttribute('aria-label', 'Copy transformed code to clipboard');
                }, 2000);
            } catch (error) {
                alert('Failed to copy code to clipboard');
            }
        });
    }

    // Keyboard support
    if (embedInput) {
        embedInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && e.ctrlKey) {
                transformButton.click();
            }
        });
    }
});
</script>
    <script src="https://matthewdeeprose.github.io/prism/prism.js"></script>
      <script>
         function menuAction() {
             let menuSwitch = document.getElementById("myTopnav");
             if (menuSwitch.className === "topnav") {
                 menuSwitch.className += " responsive";
                 
             } else {
                 menuSwitch.className = "topnav";
             }
             let menuAriaAttrib = document.getElementById("menu").getAttribute("aria-expanded");
             if (menuAriaAttrib === "true") {
                 menuAriaAttrib = "false"
             } else {
                 menuAriaAttrib = "true"
             }
             document.getElementById("menu").setAttribute("aria-expanded", menuAriaAttrib);
         }

















      </script>
      <script>
         let mybutton = document.getElementById("myBtn");
         let mybutton2 = document.getElementById("myBtn2");
         
         
         window.onscroll = function() {
             scrollFunction()
         };
         
         function scrollFunction() {
             if (document.body.scrollTop > 660 || document.documentElement.scrollTop > 660) {
                 mybutton.style.display = "block";
         		mybutton2.style.display = "block";
             } else {
                 mybutton.style.display = "none";
         		mybutton2.style.display = "none";
             }
         }
         
         
         
         function topFunction() {
             document.body.scrollTop = 0;
             document.documentElement.scrollTop = 0; 
         document.getElementById('skipToContent').focus();
         }
         
         function bottomFunction() {
         window.scrollTo(0,document.body.scrollHeight);
         document.getElementById('rssA').focus();
         }
      </script>
      <script>
         let themePref = localStorage.getItem("theme");
         console.log("Has a theme preference been saved?", themePref);        
         
         
         function setLight() {
             let buttonStatus = document.getElementById("lightDark");
             let theButton = document.getElementById("modeToggle");
             const d = matchMedia('(prefers-color-scheme: dark)');
             let dt;
             if (d.matches) {
                 dt = 'dark';
                 console.log("Prefers dark theme in OS");
             } else {
                 dt = 'light'
                 console.log("Prefers light theme in OS");
             }
             if (dt == 'dark' && themePref == 'Dark') {
                 theButton.setAttribute("aria-pressed", "true");
             } else if (dt == 'light' && themePref == 'Dark') {
                 theButton.setAttribute("aria-pressed", "true");
             } else if (dt == 'dark' && !themePref) {
                 theButton.setAttribute("aria-pressed", "true");
             } else {
                 theButton.setAttribute("aria-pressed", "false");
             }
         }
         setLight();
         
         function toggle(btnID) {
             let buttonStatus = document.getElementById("lightDark");
             let theButton = document.getElementById(btnID);
             if (theButton.getAttribute("aria-pressed") == "true") {
                 theButton.setAttribute("aria-pressed", "false");
                 document.getElementById('lightCSS').href = 'light.css';
                 document.getElementById('darkCSS').href = 'light.css';
                 console.log("Turned on light mode");
                 localStorage.setItem("theme", "Light");
                 let themePref = localStorage.getItem("theme");
                 console.log("Site theme preference to ", themePref);
                 document.getElementById('lightDark').innerHTML = 'Light theme enabled, the button is now';
                 let toggleButton = document.getElementById('modeToggle');
                 toggleButton.removeAttribute("aria-pressed");
                 toggleButton.setAttribute("aria-pressed", "false");
             } else {
                 theButton.setAttribute("aria-pressed", "true");
                 document.getElementById('lightCSS').href = 'dark.css';
                 document.getElementById('darkCSS').href = 'dark.css';
                 console.log("Turned on dark mode");
                 localStorage.setItem("theme", "Dark");
                 let themePref = localStorage.getItem("theme");
                 console.log("Site theme preference set to ", themePref);
                 document.getElementById('lightDark').innerHTML = 'Dark theme enabled, the button is now';
                 let toggleButton = document.getElementById('modeToggle');
                 toggleButton.removeAttribute("aria-pressed");
                 toggleButton.setAttribute("aria-pressed", "true");
             }
         }
         
         function applyThemePreference() {
             if (themePref == 'Dark') {
                 let theButton = document.getElementById('modeToggle');
                 document.getElementById('lightCSS').href = 'dark.css';
                 document.getElementById('darkCSS').href = 'dark.css';
                 theButton.setAttribute("aria-pressed", "true");
                 console.log("Applied", themePref, "theme because site theme preference is set to", themePref);
             } else if (themePref == 'Light') {
                 let theButton = document.getElementById('modeToggle');
                 document.getElementById('lightCSS').href = 'light.css';
                 document.getElementById('darkCSS').href = 'light.css';
                 theButton.setAttribute("aria-pressed", "false");
                 console.log("Applied", themePref, "theme because site theme preference is set to", themePref);
             }
         }
         applyThemePreference();                
      </script>
	  <script src="scripts/lite-yt-embed.js"></script>
	  <link rel="stylesheet" href="scripts/lite-yt-embed.css"/>
	  	    <script src="scripts/jquery-3.7.1.min.js"></script>
    <script src="scripts/details.js"></script>
    <script>
      window.console || (window.console = {
        'log': alert
      });
      $(function() {
        $('html').addClass($.fn.details.support ? 'details' : 'no-details');
        $('details').details();
        $('details').on({
          'open.details': function() {
            console.log('opened')
          },
          'close.details': function() {
            console.log('closed')
          }
        })
      });
    </script>
	    <script>
      // Expand details / summary when printing
      // From https://stackoverflow.com/questions/19646684/force-open-the-details-summary-tag-for-print-in-chrome
      window.matchMedia("print").addEventListener("change", evt => {
        if (evt.matches) {
          elms = document.body.querySelectorAll("details:not([open])");
          for (e of elms) {
            e.setAttribute("open", "");
            e.dataset.wasclosed = "";
          }
        } else {
          elms = document.body.querySelectorAll("details[data-wasclosed]");
          for (e of elms) {
            e.removeAttribute("open");
            delete e.dataset.wasclosed;
          }
        }
      })
    </script>
   </body>
</html>
